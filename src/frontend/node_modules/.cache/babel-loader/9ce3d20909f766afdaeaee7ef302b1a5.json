{"ast":null,"code":"var _jsxFileName = \"E:\\\\IGNITER\\\\Documents\\\\Amigos Code\\\\Spring-Professional\\\\src\\\\frontend\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { Layout, Menu, Breadcrumb, Table, Spin, Empty, Button, Badge, Tag, Avatar, Radio, Popconfirm } from 'antd';\nimport { useState, useEffect } from \"react\";\nimport { deleteStudent, getAllStudents } from \"./client\";\nimport StudentDrawerForm from \"./StudentDrawerForm\";\nimport './App.css';\nimport { DesktopOutlined, PieChartOutlined, FileOutlined, TeamOutlined, UserOutlined, LoadingOutlined, PlusOutlined } from '@ant-design/icons';\nimport { errorNotification, successNotification } from './Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Footer,\n  Sider\n} = Layout;\nconst {\n  SubMenu\n} = Menu;\n\nconst TheAvatar = ({\n  name\n}) => {\n  let trim = name.trim();\n\n  if (trim.length == 0) {\n    return /*#__PURE__*/_jsxDEV(Avatar, {\n      icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }, this);\n  }\n\n  const split = trim.split(\" \");\n\n  if (split.length === 1) {\n    return /*#__PURE__*/_jsxDEV(Avatar, {\n      children: name.charAt(0)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Avatar, {\n    children: `${name.charAt(0)} ${name.charAt(name.length - 1)}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 10\n  }, this);\n};\n\n_c = TheAvatar;\n\nconst removeStudent = (studentId, callback) => {\n  deleteStudent(studentId).then(() => {\n    successNotification(\"Student delete\", `Student with ${studentId} was deleted`);\n    callback();\n  });\n};\n\nconst columns = fetchStudents => [{\n  title: '',\n  dataIndex: 'avatar',\n  key: 'avatar',\n  render: (text, student) => /*#__PURE__*/_jsxDEV(TheAvatar, {\n    name: student.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 7\n  }, this)\n}, {\n  title: 'Id',\n  dataIndex: 'id',\n  key: 'id'\n}, {\n  title: 'Name',\n  dataIndex: 'name',\n  key: 'name'\n}, {\n  title: 'Email',\n  dataIndex: 'email',\n  key: 'email'\n}, {\n  title: 'Gender',\n  dataIndex: 'gender',\n  key: 'gender'\n}, {\n  title: 'Actions',\n  dataIndex: 'actions',\n  render: (text, student) => /*#__PURE__*/_jsxDEV(Radio.Group, {\n    children: [/*#__PURE__*/_jsxDEV(Popconfirm, {\n      placement: \"topRight\",\n      title: `Are you sure to delete ${student.name}`,\n      onConfirm: () => removeStudent(student.id, fetchStudents),\n      okText: \"Yes\",\n      cancelText: \"No\",\n      children: /*#__PURE__*/_jsxDEV(Radio.Button, {\n        value: \"small\",\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Radio.Button, {\n      value: \"small\",\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this)\n}];\n\nconst antIcon = /*#__PURE__*/_jsxDEV(LoadingOutlined, {\n  style: {\n    fontSize: 24\n  },\n  spin: true\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 103,\n  columnNumber: 17\n}, this);\n\nfunction App() {\n  _s();\n\n  const [students, setStudents] = useState([]);\n  const [collapsed, setCollapsed] = useState(false);\n  const [fetching, setFetching] = useState(true);\n  const [showDrawer, setShowDrawer] = useState(false);\n\n  const fetchStudents = () => getAllStudents().then(res => res.json()).then(data => {\n    console.log(data);\n    setStudents(data);\n    setFetching(false);\n  }).catch(err => {\n    console.log(err.response);\n    err.response.json().then(res => {\n      console.log(res);\n      errorNotification(\"There was an issue\", res.message);\n    });\n  });\n\n  useEffect(() => {\n    console.log(\"Component is mounted\");\n    fetchStudents();\n  }, []);\n\n  const renderStudents = () => {\n    if (fetching) {\n      return /*#__PURE__*/_jsxDEV(Spin, {\n        indicator: antIcon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (students.length <= 0) {\n      return /*#__PURE__*/_jsxDEV(Empty, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StudentDrawerForm, {\n        showDrawer: showDrawer,\n        setShowDrawer: setShowDrawer,\n        fetchStudents: fetchStudents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        dataSource: students,\n        columns: columns(fetchStudents),\n        bordered: true,\n        title: () => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Tag, {\n            children: \"Number of students\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            count: students.length,\n            className: \"site-badge-count-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowDrawer(!showDrawer),\n            type: \"primary\",\n            shape: \"round\",\n            icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 56\n            }, this),\n            size: \"small\",\n            children: \"Add New Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true),\n        pagination: {\n          pageSize: 50\n        },\n        scroll: {\n          y: 500\n        },\n        rowKey: student => student.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    style: {\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Sider, {\n      collapsible: true,\n      collapsed: collapsed,\n      onCollapse: setCollapsed,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        theme: \"dark\",\n        defaultSelectedKeys: ['1'],\n        mode: \"inline\",\n        children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(PieChartOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 36\n          }, this),\n          children: \"Option 1\"\n        }, \"1\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(DesktopOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 36\n          }, this),\n          children: \"Option 2\"\n        }, \"2\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n          icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 37\n          }, this),\n          title: \"User\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"Tom\"\n          }, \"3\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"Bill\"\n          }, \"4\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"Alex\"\n          }, \"5\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, \"sub1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n          icon: /*#__PURE__*/_jsxDEV(TeamOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 37\n          }, this),\n          title: \"Team\",\n          children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"Team 1\"\n          }, \"6\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: \"Team 2\"\n          }, \"8\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, \"sub2\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n          icon: /*#__PURE__*/_jsxDEV(FileOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 36\n          }, this),\n          children: \"Files\"\n        }, \"9\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"site-layout\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        className: \"site-layout-background\",\n        style: {\n          padding: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        style: {\n          margin: '0 16px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n          style: {\n            margin: '16px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n            children: \"Bill\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"site-layout-background\",\n          style: {\n            padding: 24,\n            minHeight: 360\n          },\n          children: renderStudents()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"By BlueGhost Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 10\n  }, this);\n}\n\n_s(App, \"XZthOjVquZbh2LkO+1P11etBdaI=\");\n\n_c2 = App;\nexport default App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TheAvatar\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["E:/IGNITER/Documents/Amigos Code/Spring-Professional/src/frontend/src/App.js"],"names":["Layout","Menu","Breadcrumb","Table","Spin","Empty","Button","Badge","Tag","Avatar","Radio","Popconfirm","useState","useEffect","deleteStudent","getAllStudents","StudentDrawerForm","DesktopOutlined","PieChartOutlined","FileOutlined","TeamOutlined","UserOutlined","LoadingOutlined","PlusOutlined","errorNotification","successNotification","Header","Content","Footer","Sider","SubMenu","TheAvatar","name","trim","length","split","charAt","removeStudent","studentId","callback","then","columns","fetchStudents","title","dataIndex","key","render","text","student","id","antIcon","fontSize","App","students","setStudents","collapsed","setCollapsed","fetching","setFetching","showDrawer","setShowDrawer","res","json","data","console","log","catch","err","response","message","renderStudents","pageSize","y","minHeight","padding","margin","textAlign"],"mappings":"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","sourcesContent":["import { \n  Layout, \n  Menu, \n  Breadcrumb,\n  Table,\n  Spin,\n  Empty,\n  Button,\n  Badge,\n  Tag, \n  Avatar,\n  Radio,\n  Popconfirm\n} from 'antd';\nimport { useState, useEffect } from \"react\";\nimport {deleteStudent, getAllStudents} from \"./client\";\nimport StudentDrawerForm from \"./StudentDrawerForm\";\nimport './App.css';\n\nimport {\n  DesktopOutlined,\n  PieChartOutlined,\n  FileOutlined,\n  TeamOutlined,\n  UserOutlined,\n  LoadingOutlined,\n  PlusOutlined,\n} from '@ant-design/icons';\nimport { errorNotification, successNotification } from './Notification';\n\n\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\nconst TheAvatar = ({name}) => {\n  let trim = name.trim();\n  if(trim.length == 0){\n    return <Avatar icon={<UserOutlined />}/>\n  }\n  const split = trim.split(\" \");\n  if(split.length === 1){\n    return <Avatar>{name.charAt(0)}</Avatar>\n  }\n  return <Avatar>\n      {`${name.charAt(0)} ${name.charAt(name.length-1)}`}\n    </Avatar>\n}\n\nconst removeStudent = (studentId, callback) => {\n  deleteStudent(studentId).then(() => {\n    successNotification(\"Student delete\", `Student with ${studentId} was deleted`)\n    callback();\n  })\n}\n\nconst columns = fetchStudents => [\n  {\n    title: '',\n    dataIndex: 'avatar',\n    key: 'avatar',\n    render: (text, student) => \n      <TheAvatar name = {student.name}/>\n  },\n  {\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n  },\n  {\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n  },\n  {\n    title: 'Email',\n    dataIndex: 'email',\n    key: 'email',\n  },\n  {\n    title: 'Gender',\n    dataIndex: 'gender',\n    key: 'gender',\n  },\n  {\n    title: 'Actions',\n    dataIndex: 'actions',\n    render: (text, student) => \n    <Radio.Group>\n      <Popconfirm\n        placement = 'topRight'\n        title={`Are you sure to delete ${student.name}`}\n        onConfirm={() => removeStudent(student.id, fetchStudents)}\n        okText = 'Yes'\n        cancelText = 'No'>\n          <Radio.Button value = 'small'>Delete</Radio.Button>\n      </Popconfirm>\n      <Radio.Button value = 'small'>Edit</Radio.Button>\n    </Radio.Group>\n    \n  },\n];\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nfunction App() {\n  const [students, setStudents] = useState([]);\n  const [collapsed, setCollapsed] = useState(false);\n  const [fetching, setFetching] = useState(true);\n  const [showDrawer, setShowDrawer] = useState(false);\n\n  const fetchStudents = () =>\n    getAllStudents()\n      .then(res => res.json())\n      .then(data => {\n        console.log(data);\n        setStudents(data);\n        setFetching(false);\n      }).catch(err => {\n        console.log(err.response); \n        err.response.json().then(res => {\n          console.log(res);\n          errorNotification(\n              \"There was an issue\",\n              res.message\n            )\n        });\n      });\n\n  useEffect( () => {\n    console.log(\"Component is mounted\");\n    fetchStudents();\n  }, []);\n\n  const renderStudents = () =>{\n    if(fetching){\n      return <Spin indicator={antIcon} />\n    }\n    if(students.length <= 0){\n      return <Empty />;\n    }\n    return <>\n        <StudentDrawerForm\n            showDrawer={showDrawer}\n            setShowDrawer={setShowDrawer}\n            fetchStudents={fetchStudents}\n        />\n        <Table\n            dataSource={students}\n            columns={columns(fetchStudents)}\n            bordered\n            title={() =>\n              <>\n                <Tag >Number of students</Tag>\n                <Badge count={students.length} className=\"site-badge-count-4\"/> \n                <br/><br/>\n                <Button\n                    onClick={() => setShowDrawer(!showDrawer)}\n                    type=\"primary\" shape=\"round\" icon={<PlusOutlined/>} size=\"small\">\n                    Add New Student\n                </Button>\n              </>\n            }\n            pagination={{pageSize: 50}}\n            scroll={{y: 500}}\n            rowKey={student => student.id}\n        />\n    </>\n  }\n\n  return <Layout style={{ minHeight: '100vh' }}>\n      <Sider collapsible collapsed={collapsed} onCollapse={setCollapsed}>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n          <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n            Option 1\n          </Menu.Item>\n          <Menu.Item key=\"2\" icon={<DesktopOutlined />}>\n            Option 2\n          </Menu.Item>\n          <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\n            <Menu.Item key=\"3\">Tom</Menu.Item>\n            <Menu.Item key=\"4\">Bill</Menu.Item>\n            <Menu.Item key=\"5\">Alex</Menu.Item>\n          </SubMenu>\n          <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\n            <Menu.Item key=\"6\">Team 1</Menu.Item>\n            <Menu.Item key=\"8\">Team 2</Menu.Item>\n          </SubMenu>\n          <Menu.Item key=\"9\" icon={<FileOutlined />}>\n            Files\n          </Menu.Item>\n        </Menu>\n      </Sider>\n      <Layout className=\"site-layout\">\n        <Header className=\"site-layout-background\" style={{ padding: 0 }} />\n        <Content style={{ margin: '0 16px' }}>\n          <Breadcrumb style={{ margin: '16px 0' }}>\n            <Breadcrumb.Item>User</Breadcrumb.Item>\n            <Breadcrumb.Item>Bill</Breadcrumb.Item>\n          </Breadcrumb>\n          <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\n            {renderStudents()}\n          </div>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>By BlueGhost Code</Footer>\n      </Layout>\n    </Layout>\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}